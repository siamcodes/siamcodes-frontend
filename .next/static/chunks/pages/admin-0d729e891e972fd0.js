(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{8195:function(s,e,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return l(209)}])},5548:function(s,e,l){"use strict";var r=l(5893),c=l(7294),i=l(1163),a=l.n(i),n=l(1445);let t=s=>{let{children:e}=s;return(0,c.useEffect)(()=>{(0,n.$D)()?1!==(0,n.$D)().role&&a().push("/"):a().push("/signin")},[]),(0,r.jsx)(c.Fragment,{children:e})};e.Z=t},9238:function(s,e,l){"use strict";var r=l(5893),c=l(1664),i=l.n(c),a=l(7294);l(1163);var n=l(1445),t=l(7283),d=l(381),o=l.n(d),h=l(5844);let u=s=>{let{username:e}=s,[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(""),m=(0,n.ej)("token");(0,a.useEffect)(()=>{x()},[]);let x=()=>{(0,t.pb)(e).then(s=>{s.error?console.log(s.error):c(s)})},j=s=>{(0,t.T7)(s,m).then(s=>{s.error?console.log(s.error):(u(s.message),x())})},g=s=>{window.confirm("Are you sure you want to delete your blog?")&&j(s)},b=s=>(0,n.$D)()&&0===(0,n.$D)().role?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("a",{href:"/user/crud/".concat(s.slug),className:"btn btn-sm btn-warning",children:"Update"})," "]}):(0,n.$D)()&&1===(0,n.$D)().role?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("a",{href:"/admin/crud/".concat(s.slug),className:"btn btn-sm btn-warning",children:"Update"})," "]}):void 0;return(0,r.jsx)(a.Fragment,{children:(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("div",{className:"col-md-12",children:[d&&(0,r.jsx)("div",{className:"alert alert-warning",children:d}),(0,r.jsx)("div",{className:"row row-cols-1 row-cols-md-4 g-1",children:l.map((s,e)=>(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("img",{className:"card-img-top",style:{objectFit:"cover"},src:"".concat(h.bl,"/blog/photo/").concat(s.slug),alt:s.title}),(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("h5",{className:"card-title",children:(0,r.jsx)(i(),{href:"/blogs/".concat(s.slug),children:(0,r.jsx)("a",{children:s.title})})}),(0,r.jsx)("p",{className:"card-text",children:(0,r.jsxs)("small",{className:"text-muted",children:["Written by ",s.postedBy.name," | Published on ",o()(s.updatedAt).fromNow()]})}),(0,r.jsxs)("p",{className:"text-center",children:[(0,r.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>g(s.slug),children:" Delete "})," "," ",b(s)]})]})]})},e))})]})})})};e.Z=u},209:function(s,e,l){"use strict";l.r(e);var r=l(5893),c=l(9282),i=l(5548),a=l(1664),n=l.n(a),t=l(9238);let d=()=>(0,r.jsx)(c.Z,{children:(0,r.jsx)(i.Z,{children:(0,r.jsx)("div",{className:"container-fluid",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-12 pt-2 pb-2",children:(0,r.jsx)("h2",{children:"Admin Dashboard"})}),(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsxs)("ul",{class:"list-group",children:[(0,r.jsx)("li",{className:"list-group-item",children:(0,r.jsx)(n(),{href:"/admin/crud/category-tag",children:(0,r.jsxs)("a",{children:[(0,r.jsx)("i",{class:"bi bi-plus"})," Create Category"]})})}),(0,r.jsx)("li",{className:"list-group-item",children:(0,r.jsx)(n(),{href:"/admin/crud/category-tag",children:(0,r.jsxs)("a",{children:[(0,r.jsx)("i",{class:"bi bi-plus"})," Create Tag"]})})}),(0,r.jsx)("li",{className:"list-group-item",children:(0,r.jsxs)("a",{href:"/admin/crud/blog",children:[(0,r.jsx)("i",{class:"bi bi-plus-square-fill"})," Create Blog"]})}),(0,r.jsx)("li",{className:"list-group-item",children:(0,r.jsx)(n(),{href:"/admin/crud/blogs",children:(0,r.jsxs)("a",{children:[(0,r.jsx)("i",{class:"bi bi-pencil-square"})," Update/Delete Blogs"]})})}),(0,r.jsx)("li",{className:"list-group-item",children:(0,r.jsx)(n(),{href:"/user/update",children:(0,r.jsxs)("a",{children:[(0,r.jsx)("i",{class:"bi bi-pencil-square"})," Update Profile"]})})})]})}),(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsx)(t.Z,{})})]})})})});e.default=d}},function(s){s.O(0,[885,849,978,282,774,888,179],function(){return s(s.s=8195)}),_N_E=s.O()}]);