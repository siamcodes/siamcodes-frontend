(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{9032:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return l(2977)}])},469:function(e,s,l){"use strict";var r=l(5893),c=l(7294),n=l(1163),a=l.n(n),i=l(1445);let t=e=>{let{children:s}=e;return(0,c.useEffect)(()=>{(0,i.$D)()||a().push("/signin")},[]),(0,r.jsx)(c.Fragment,{children:s})};s.Z=t},9238:function(e,s,l){"use strict";var r=l(5893),c=l(1664),n=l.n(c),a=l(7294);l(1163);var i=l(1445),t=l(7283),d=l(381),o=l.n(d),u=l(5844);let h=e=>{let{username:s}=e,[l,c]=(0,a.useState)([]),[d,h]=(0,a.useState)(""),m=(0,i.ej)("token");(0,a.useEffect)(()=>{x()},[]);let x=()=>{(0,t.pb)(s).then(e=>{e.error?console.log(e.error):c(e)})},j=e=>{(0,t.T7)(e,m).then(e=>{e.error?console.log(e.error):(h(e.message),x())})},b=e=>{window.confirm("Are you sure you want to delete your blog?")&&j(e)},g=e=>(0,i.$D)()&&0===(0,i.$D)().role?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("a",{href:"/user/crud/".concat(e.slug),className:"btn btn-sm btn-warning",children:"Update"})," "]}):(0,i.$D)()&&1===(0,i.$D)().role?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("a",{href:"/admin/crud/".concat(e.slug),className:"btn btn-sm btn-warning",children:"Update"})," "]}):void 0;return(0,r.jsx)(a.Fragment,{children:(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("div",{className:"col-md-12",children:[d&&(0,r.jsx)("div",{className:"alert alert-warning",children:d}),(0,r.jsx)("div",{className:"row row-cols-1 row-cols-md-4 g-1",children:l.map((e,s)=>(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("img",{className:"card-img-top",style:{objectFit:"cover"},src:"".concat(u.bl,"/blog/photo/").concat(e.slug),alt:e.title}),(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("h5",{className:"card-title",children:(0,r.jsx)(n(),{href:"/blogs/".concat(e.slug),children:(0,r.jsx)("a",{children:e.title})})}),(0,r.jsx)("p",{className:"card-text",children:(0,r.jsxs)("small",{className:"text-muted",children:["Written by ",e.postedBy.name," | Published on ",o()(e.updatedAt).fromNow()]})}),(0,r.jsxs)("p",{className:"text-center",children:[(0,r.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>b(e.slug),children:" Delete "})," "," ",g(e)]})]})]})},s))})]})})})};s.Z=h},2977:function(e,s,l){"use strict";l.r(s);var r=l(5893),c=l(9282),n=l(469),a=l(1664),i=l.n(a),t=l(9238),d=l(1445);let o=()=>{let e=(0,d.$D)()&&(0,d.$D)().username;return(0,r.jsx)(c.Z,{children:(0,r.jsx)(n.Z,{children:(0,r.jsx)("div",{className:"container-fluid",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-12 pt-2 pb-2",children:(0,r.jsx)("h2",{children:"User Dashboard"})}),(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsxs)("ul",{class:"list-group",children:[(0,r.jsx)("li",{className:"list-group-item",children:(0,r.jsxs)("a",{href:"/user/crud/blog",children:[(0,r.jsx)("i",{class:"bi bi-plus-square-fill"})," Create Blog"]})}),(0,r.jsx)("li",{className:"list-group-item",children:(0,r.jsx)(i(),{href:"/user/crud/blogs",children:(0,r.jsxs)("a",{children:[(0,r.jsx)("i",{class:"bi bi-pencil-square"})," Update/Delete Blog"]})})}),(0,r.jsx)("li",{className:"list-group-item",children:(0,r.jsxs)("a",{href:"/user/update",children:[(0,r.jsx)("i",{class:"bi bi-pencil-square"})," Update profile"]})})]})}),(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsx)(t.Z,{username:e})})]})})})})};s.default=o}},function(e){e.O(0,[885,849,978,282,774,888,179],function(){return e(e.s=9032)}),_N_E=e.O()}]);