(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[607],{1427:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/crud/blogs",function(){return n(5762)}])},469:function(e,s,n){"use strict";var r=n(5893),c=n(7294),l=n(1163),t=n.n(l),a=n(1445);let i=e=>{let{children:s}=e;return(0,c.useEffect)(()=>{(0,a.$D)()||t().push("/signin")},[]),(0,r.jsx)(c.Fragment,{children:s})};s.Z=i},9238:function(e,s,n){"use strict";var r=n(5893),c=n(1664),l=n.n(c),t=n(7294);n(1163);var a=n(1445),i=n(7283),d=n(381),o=n.n(d),u=n(5844);let m=e=>{let{username:s}=e,[n,c]=(0,t.useState)([]),[d,m]=(0,t.useState)(""),h=(0,a.ej)("token");(0,t.useEffect)(()=>{x()},[]);let x=()=>{(0,i.pb)(s).then(e=>{e.error?console.log(e.error):c(e)})},j=e=>{(0,i.T7)(e,h).then(e=>{e.error?console.log(e.error):(m(e.message),x())})},g=e=>{window.confirm("Are you sure you want to delete your blog?")&&j(e)},N=e=>(0,a.$D)()&&0===(0,a.$D)().role?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("a",{href:"/user/crud/".concat(e.slug),className:"btn btn-sm btn-warning",children:"Update"})," "]}):(0,a.$D)()&&1===(0,a.$D)().role?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("a",{href:"/admin/crud/".concat(e.slug),className:"btn btn-sm btn-warning",children:"Update"})," "]}):void 0;return(0,r.jsx)(t.Fragment,{children:(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("div",{className:"col-md-12",children:[d&&(0,r.jsx)("div",{className:"alert alert-warning",children:d}),(0,r.jsx)("div",{className:"row row-cols-1 row-cols-md-4 g-1",children:n.map((e,s)=>(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("img",{className:"card-img-top",style:{objectFit:"cover"},src:"".concat(u.bl,"/blog/photo/").concat(e.slug),alt:e.title}),(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("h5",{className:"card-title",children:(0,r.jsx)(l(),{href:"/blogs/".concat(e.slug),children:(0,r.jsx)("a",{children:e.title})})}),(0,r.jsx)("p",{className:"card-text",children:(0,r.jsxs)("small",{className:"text-muted",children:["Written by ",e.postedBy.name," | Published on ",o()(e.updatedAt).fromNow()]})}),(0,r.jsxs)("p",{className:"text-center",children:[(0,r.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>g(e.slug),children:" Delete "})," "," ",N(e)]})]})]})},s))})]})})})};s.Z=m},5762:function(e,s,n){"use strict";n.r(s);var r=n(5893),c=n(9282),l=n(469),t=n(9238);n(1664);var a=n(1445);let i=()=>{let e=(0,a.$D)()&&(0,a.$D)().username;return(0,r.jsx)(c.Z,{children:(0,r.jsx)(l.Z,{children:(0,r.jsx)("div",{className:"container-fluid",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-12 pt-5 pb-5",children:(0,r.jsx)("h2",{children:"Manage blogs"})}),(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)(t.Z,{username:e})})]})})})})};s.default=i}},function(e){e.O(0,[885,849,978,282,774,888,179],function(){return e(e.s=1427)}),_N_E=e.O()}]);